<?xml version="1.0" encoding="UTF-8" ?>
<claims xmlns:gate="http://www.gate.ac.uk" gate:gateId="0" gate:annotMaxId="7814" id="claims" numberDependentClaims="0" numberIndependentClaims="107">
<claim gate:gateId="1" id="CLM-00001" body="a program executable by a computer to execute a method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from said illumination optical system, and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system,
the method comprising the steps of:
determining an impulse response function of said projection optical system through a process of performing Fourier transform on a pupil function of said projection optical system;
setting a length to a second zero point of the impulse response function from the origin as a response length, extracting, from elements forming a target pattern to be formed on the substrate, only elements for each of which the spacing to an adjacent element is equal to or smaller than the response length, and determining a function indicating the extracted pattern as an image function; and
obtaining the light intensity distribution to be formed on the pupil plane of said illumination optical system based on the pupil function, the determined impulse response function, and the determined image function.

" num="00001" claimType="independent" transPhrase=" storing " claimSize="216" claimNumber="1" claim_preamble="A non-transitory computer readable storage medium">
<claim-text gate:gateId="2">1. A non-transitory computer readable storage medium storing a program executable by a computer to execute a method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from said illumination optical system, and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system,
<claim-text gate:gateId="3">the method comprising the steps of:</claim-text>
<claim-text gate:gateId="4">determining an impulse response function of said projection optical system through a process of performing Fourier transform on a pupil function of said projection optical system;</claim-text>
<claim-text gate:gateId="5">setting a length to a second zero point of the impulse response function from the origin as a response length, extracting, from elements forming a target pattern to be formed on the substrate, only elements for each of which the spacing to an adjacent element is equal to or smaller than the response length, and determining a function indicating the extracted pattern as an image function; and</claim-text>
<claim-text gate:gateId="6">obtaining the light intensity distribution to be formed on the pupil plane of said illumination optical system based on the pupil function, the determined impulse response function, and the determined image function.</claim-text>
</claim-text>
</claim>
<claim gate:gateId="7" id="CLM-00002" body="the pupil function includes an aberration of said projection optical system.
" claimType="dependent" num="00002" claimBackReference="according to claim 1 ," transPhrase="wherein " claimSize="26" claim_preamble="The non-transitory computer readable storage medium" claimNumber="2" depends_on="1">
<claim-text gate:gateId="8">2. The non-transitory computer readable storage medium according to <claim-ref gate:gateId="9" idref="CLM-00001">claim 1</claim-ref> , wherein the pupil function includes an aberration of said projection optical system.</claim-text>
</claim>
<claim gate:gateId="10" id="CLM-00003" body="the step of obtaining the light intensity distribution comprises the steps of:
executing a division process of dividing the determined image function by the impulse response function, and performing inverse Fourier transform on the function having performed the division process; and
obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system by performing a division process of dividing the function having performed inverse Fourier transform by a complex conjugate function of the pupil function.

" claimType="dependent" num="00003" claimBackReference="according to claim 1 ," transPhrase="wherein " claimSize="99" claim_preamble="The non-transitory computer readable storage medium" claimNumber="3" depends_on="1">
<claim-text gate:gateId="11">3. The non-transitory computer readable storage medium according to <claim-ref gate:gateId="12" idref="CLM-00001">claim 1</claim-ref> , wherein the step of obtaining the light intensity distribution comprises the steps of:
<claim-text gate:gateId="13">executing a division process of dividing the determined image function by the impulse response function, and performing inverse Fourier transform on the function having performed the division process; and</claim-text>
<claim-text gate:gateId="14">obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system by performing a division process of dividing the function having performed inverse Fourier transform by a complex conjugate function of the pupil function.</claim-text>
</claim-text>
</claim>
<claim gate:gateId="15" id="CLM-00004" body="a wavelength of the light which illuminates the original, and NA be a numerical aperture of said projection optical system, the step of determining the impulse response function comprises, after performing Fourier transform on the pupil function, the step of replacing coordinates on an image plane of said projection optical system with coordinates on the pupil plane of said projection optical system by dividing the coordinates on the image plane by (NA/λ), and replacing a nonzero value at a point at which an impulse response function is zero.
" claimType="dependent" num="00004" claimBackReference="according to claim 1 ," transPhrase="wherein letting λ be " claimSize="115" claim_preamble="The non-transitory computer readable storage medium" claimNumber="4" depends_on="1">
<claim-text gate:gateId="16">4. The non-transitory computer readable storage medium according to <claim-ref gate:gateId="17" idref="CLM-00001">claim 1</claim-ref> , wherein letting λ be a wavelength of the light which illuminates the original, and NA be a numerical aperture of said projection optical system, the step of determining the impulse response function comprises, after performing Fourier transform on the pupil function, the step of replacing coordinates on an image plane of said projection optical system with coordinates on the pupil plane of said projection optical system by dividing the coordinates on the image plane by (NA/λ), and replacing a nonzero value at a point at which an impulse response function is zero.</claim-text>
</claim>
<claim gate:gateId="18" id="CLM-00005" body="a program executable by a computer to execute a method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from said illumination optical system, and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system,
the method comprising the steps of:
determining an impulse response function of said projection optical system through a process of performing Fourier transform on a pupil function of said projection optical system;
setting a length to a second zero point of the impulse response function from the origin as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and
obtaining the light intensity distribution to be formed on the pupil plane of said illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,
wherein the step of determining the image function comprises the steps of:
calculating a diffracted light distribution of the target pattern to be formed on the substrate;
extracting diffracted light components having the same phase from the calculated diffracted light distribution;
performing Fourier transform on the extracted diffracted light components;
obtaining a function of peak positions of the diffracted light components having performed Fourier transform, within a range enclosed with a circle centering around an optical axis of said projection optical system and having a diameter not more than the response length; and
convolving a function representing a shape of an element forming the target pattern into the obtained function of peak positions, and determining the convolved function as an image function.

" num="00005" claimType="independent" transPhrase=" storing " claimSize="325" claimNumber="5" claim_preamble="A non-transitory computer readable storage medium">
<claim-text gate:gateId="19">5. A non-transitory computer readable storage medium storing a program executable by a computer to execute a method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from said illumination optical system, and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system,
<claim-text gate:gateId="20">the method comprising the steps of:</claim-text>
<claim-text gate:gateId="21">determining an impulse response function of said projection optical system through a process of performing Fourier transform on a pupil function of said projection optical system;</claim-text>
<claim-text gate:gateId="22">setting a length to a second zero point of the impulse response function from the origin as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and</claim-text>
<claim-text gate:gateId="23">obtaining the light intensity distribution to be formed on the pupil plane of said illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,</claim-text>
<claim-text gate:gateId="24">wherein the step of determining the image function comprises the steps of:</claim-text>
<claim-text gate:gateId="25">calculating a diffracted light distribution of the target pattern to be formed on the substrate;</claim-text>
<claim-text gate:gateId="26">extracting diffracted light components having the same phase from the calculated diffracted light distribution;</claim-text>
<claim-text gate:gateId="27">performing Fourier transform on the extracted diffracted light components;</claim-text>
<claim-text gate:gateId="28">obtaining a function of peak positions of the diffracted light components having performed Fourier transform, within a range enclosed with a circle centering around an optical axis of said projection optical system and having a diameter not more than the response length; and</claim-text>
<claim-text gate:gateId="29">convolving a function representing a shape of an element forming the target pattern into the obtained function of peak positions, and determining the convolved function as an image function.</claim-text>
</claim-text>
</claim>
<claim gate:gateId="30" id="CLM-00006" body="a program executable by a computer to execute a method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from said illumination optical system, and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system,
the method comprising the steps of:
determining an impulse response function of said projection optical system through a process of performing Fourier transform on a pupil function of said projection optical system;
setting a length to a second zero point of the impulse response function from the origin as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and
obtaining the light intensity distribution to be formed on the pupil plane of said illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,
wherein letting I(x,y) be an image of the target pattern to be formed on the substrate, a(f,g) be a diffracted light distribution of the target pattern at a point (f,g) on the pupil plane of said projection optical system, F be Fourier transform, and F −1 be inverse Fourier transform, the step of determining the image function comprises the step of calculating an image function r(x,y) by substituting the image I(x,y) of the target pattern and the diffracted light distribution a(f,g) of the target pattern into a right side of





  
    r
    ⁡
    
      (
      
        x
        ,
        y
      
      )
    
  
  =
  
    F
    ⁡
    
      [
      
        
          1
          
            a
            ⁡
            
              (
              
                f
                ,
                g
              
              )
            
          
        
        ⁢
        
          
            F
            
              -
              1
            
          
          ⁡
          
            [
            
              
                I
                ⁡
                
                  (
                  
                    x
                    ,
                    y
                  
                  )
                
              
              
                F
                ⁡
                
                  [
                  
                    a
                    ⁡
                    
                      (
                      
                        f
                        ,
                        g
                      
                      )
                    
                  
                  ]
                
              
            
            ]
          
        
      
      ]
    
  




and replacing with zero a value of the image function for which a distance from an optical axis of said projection optical system is larger than the response length.
" num="00006" claimType="independent" transPhrase=" storing " claimSize="394" claimNumber="6" claim_preamble="A non-transitory computer readable storage medium">
<claim-text gate:gateId="31">6. A non-transitory computer readable storage medium storing a program executable by a computer to execute a method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from said illumination optical system, and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system,
<claim-text gate:gateId="32">the method comprising the steps of:</claim-text>
<claim-text gate:gateId="33">determining an impulse response function of said projection optical system through a process of performing Fourier transform on a pupil function of said projection optical system;</claim-text>
<claim-text gate:gateId="34">setting a length to a second zero point of the impulse response function from the origin as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and</claim-text>
<claim-text gate:gateId="35">obtaining the light intensity distribution to be formed on the pupil plane of said illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,</claim-text>
<claim-text gate:gateId="36">wherein letting I(x,y) be an image of the target pattern to be formed on the substrate, a(f,g) be a diffracted light distribution of the target pattern at a point (f,g) on the pupil plane of said projection optical system, F be Fourier transform, and F <sup gate:gateId="37">−1 </sup>be inverse Fourier transform, the step of determining the image function comprises the step of calculating an image function r(x,y) by substituting the image I(x,y) of the target pattern and the diffracted light distribution a(f,g) of the target pattern into a right side of</claim-text>
</claim-text>
<claim-text gate:gateId="38">
<maths gate:gateId="39" id="MATH-US-00005" num="00005">
<math gate:gateId="40" overflow="scroll">
<mrow gate:gateId="41">
  <mrow gate:gateId="42">
    <mi gate:gateId="43">r</mi>
    <mo gate:gateId="44">⁡</mo>
    <mrow gate:gateId="45">
      <mo gate:gateId="46">(</mo>
      <mrow gate:gateId="47">
        <mi gate:gateId="48">x</mi>
        <mo gate:gateId="49">,</mo>
        <mi gate:gateId="50">y</mi>
      </mrow>
      <mo gate:gateId="51">)</mo>
    </mrow>
  </mrow>
  <mo gate:gateId="52">=</mo>
  <mrow gate:gateId="53">
    <mi gate:gateId="54">F</mi>
    <mo gate:gateId="55">⁡</mo>
    <mrow gate:gateId="56">
      <mo gate:gateId="57">[</mo>
      <mrow gate:gateId="58">
        <mfrac gate:gateId="59">
          <mn gate:gateId="60">1</mn>
          <mrow gate:gateId="61">
            <mi gate:gateId="62">a</mi>
            <mo gate:gateId="63">⁡</mo>
            <mrow gate:gateId="64">
              <mo gate:gateId="65">(</mo>
              <mrow gate:gateId="66">
                <mi gate:gateId="67">f</mi>
                <mo gate:gateId="68">,</mo>
                <mi gate:gateId="69">g</mi>
              </mrow>
              <mo gate:gateId="70">)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo gate:gateId="71">⁢</mo>
        <mrow gate:gateId="72">
          <msup gate:gateId="73">
            <mi gate:gateId="74">F</mi>
            <mrow gate:gateId="75">
              <mo gate:gateId="76">-</mo>
              <mn gate:gateId="77">1</mn>
            </mrow>
          </msup>
          <mo gate:gateId="78">⁡</mo>
          <mrow gate:gateId="79">
            <mo gate:gateId="80">[</mo>
            <mfrac gate:gateId="81">
              <mrow gate:gateId="82">
                <mi gate:gateId="83">I</mi>
                <mo gate:gateId="84">⁡</mo>
                <mrow gate:gateId="85">
                  <mo gate:gateId="86">(</mo>
                  <mrow gate:gateId="87">
                    <mi gate:gateId="88">x</mi>
                    <mo gate:gateId="89">,</mo>
                    <mi gate:gateId="90">y</mi>
                  </mrow>
                  <mo gate:gateId="91">)</mo>
                </mrow>
              </mrow>
              <mrow gate:gateId="92">
                <mi gate:gateId="93">F</mi>
                <mo gate:gateId="94">⁡</mo>
                <mrow gate:gateId="95">
                  <mo gate:gateId="96">[</mo>
                  <mrow gate:gateId="97">
                    <mi gate:gateId="98">a</mi>
                    <mo gate:gateId="99">⁡</mo>
                    <mrow gate:gateId="100">
                      <mo gate:gateId="101">(</mo>
                      <mrow gate:gateId="102">
                        <mi gate:gateId="103">f</mi>
                        <mo gate:gateId="104">,</mo>
                        <mi gate:gateId="105">g</mi>
                      </mrow>
                      <mo gate:gateId="106">)</mo>
                    </mrow>
                  </mrow>
                  <mo gate:gateId="107">]</mo>
                </mrow>
              </mrow>
            </mfrac>
            <mo gate:gateId="108">]</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo gate:gateId="109">]</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text gate:gateId="110">and replacing with zero a value of the image function for which a distance from an optical axis of said projection optical system is larger than the response length.</claim-text>
</claim>
<claim gate:gateId="111" id="CLM-00007" body="a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from the illumination optical system and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system, the method, which is executable by a computer, comprising the steps of:
determining an impulse response function of the projection optical system through a process of performing Fourier transform on a pupil function of the projection optical system;
setting a length from the origin to a second zero point of the impulse response function as a response length, extracting, from elements forming a target pattern to be formed on the substrate, only elements for each of which the spacing to an adjacent element is equal to or smaller than the response length, and determining a function indicating the extracted pattern as an image function; and
obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system based on the pupil function, the determined impulse response function, and the determined image function.

" num="00007" claimType="independent" transPhrase=" of calculating " claimSize="208" claimNumber="7" claim_preamble="A method">
<claim-text gate:gateId="112">7. A method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from the illumination optical system and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system, the method, which is executable by a computer, comprising the steps of:
<claim-text gate:gateId="113">determining an impulse response function of the projection optical system through a process of performing Fourier transform on a pupil function of the projection optical system;</claim-text>
<claim-text gate:gateId="114">setting a length from the origin to a second zero point of the impulse response function as a response length, extracting, from elements forming a target pattern to be formed on the substrate, only elements for each of which the spacing to an adjacent element is equal to or smaller than the response length, and determining a function indicating the extracted pattern as an image function; and</claim-text>
<claim-text gate:gateId="115">obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system based on the pupil function, the determined impulse response function, and the determined image function.</claim-text>
</claim-text>
</claim>
<claim gate:gateId="116" id="CLM-00008" body="the pupil function includes an aberration of the projection optical system.
" claimType="dependent" num="00008" claimBackReference="according to claim 7 ," transPhrase="wherein " claimSize="22" claim_preamble="The method" claimNumber="8" depends_on="7">
<claim-text gate:gateId="117">8. The method according to <claim-ref gate:gateId="118" idref="CLM-00007">claim 7</claim-ref> , wherein the pupil function includes an aberration of the projection optical system.</claim-text>
</claim>
<claim gate:gateId="119" id="CLM-00009" body="the steps of:
executing a division process of dividing the determined image function by the impulse response function, and performing inverse Fourier transform on the function having performed the division process; and
obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system by performing a division process of dividing the function having performed inverse Fourier transform by a complex conjugate function of the pupil function.

" claimType="dependent" num="00009" claimBackReference="according to claim 7 ," transPhrase="further comprising " claimSize="87" claim_preamble="The method" claimNumber="9" depends_on="7">
<claim-text gate:gateId="120">9. The method according to <claim-ref gate:gateId="121" idref="CLM-00007">claim 7</claim-ref> , further comprising the steps of:
<claim-text gate:gateId="122">executing a division process of dividing the determined image function by the impulse response function, and performing inverse Fourier transform on the function having performed the division process; and</claim-text>
<claim-text gate:gateId="123">obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system by performing a division process of dividing the function having performed inverse Fourier transform by a complex conjugate function of the pupil function.</claim-text>
</claim-text>
</claim>
<claim gate:gateId="124" id="CLM-00010" body="a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from the illumination optical system and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system, the method, which is executable by a computer, comprising the steps of:
determining an impulse response function of the projection optical system through a process of performing Fourier transform on a pupil function of the projection optical system;
setting a length from the origin to a second zero point of the impulse response function as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and
obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,
wherein the step of determining the image function comprises the steps of:
calculating a diffracted light distribution of the target pattern to be formed on the substrate;
extracting diffracted light components having the same phase from the calculated diffracted light distribution;
performing Fourier transform on the extracted diffracted light components;
obtaining a function of peak positions within a area of not more than the response length; and
convolving a function representing a shape of an element forming the target pattern into the obtained peak position function, and determining the convolved function as an image function.

" num="00010" claimType="independent" transPhrase=" of calculating " claimSize="289" claimNumber="10" claim_preamble="A method">
<claim-text gate:gateId="125">10. A method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from the illumination optical system and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system, the method, which is executable by a computer, comprising the steps of:
<claim-text gate:gateId="126">determining an impulse response function of the projection optical system through a process of performing Fourier transform on a pupil function of the projection optical system;</claim-text>
<claim-text gate:gateId="127">setting a length from the origin to a second zero point of the impulse response function as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and</claim-text>
<claim-text gate:gateId="128">obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,</claim-text>
<claim-text gate:gateId="129">wherein the step of determining the image function comprises the steps of:</claim-text>
<claim-text gate:gateId="130">calculating a diffracted light distribution of the target pattern to be formed on the substrate;</claim-text>
<claim-text gate:gateId="131">extracting diffracted light components having the same phase from the calculated diffracted light distribution;</claim-text>
<claim-text gate:gateId="132">performing Fourier transform on the extracted diffracted light components;</claim-text>
<claim-text gate:gateId="133">obtaining a function of peak positions within a area of not more than the response length; and</claim-text>
<claim-text gate:gateId="134">convolving a function representing a shape of an element forming the target pattern into the obtained peak position function, and determining the convolved function as an image function.</claim-text>
</claim-text>
</claim>
<claim gate:gateId="135" id="CLM-00011" body="a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from the illumination optical system and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system, the method, which is executable by a computer, comprising the steps of:
determining an impulse response function of the projection optical system through a process of performing Fourier transform on a pupil function of the projection optical system;
setting a length from the origin to a second zero point of the impulse response function as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and
obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,
wherein letting r(x,y) be the image function, I(x,y) be an image of the target pattern to be formed on the substrate, a(f,g) be a diffracted light distribution of the target pattern at a point (f,g) on the pupil plane of the projection optical system, F be Fourier transform, and F −1 be inverse Fourier transform, the step of determining the image function comprises the step of calculating the image function r(x,y) by substituting the image I(x,y) of the target pattern and the diffracted light distribution a(f,g) of the target pattern into a right side of





  
    r
    ⁡
    
      (
      
        x
        ,
        y
      
      )
    
  
  =
  
    F
    ⁡
    
      [
      
        
          1
          
            a
            ⁡
            
              (
              
                f
                ,
                g
              
              )
            
          
        
        ⁢
        
          
            F
            
              -
              1
            
          
          ⁡
          
            [
            
              
                I
                ⁡
                
                  (
                  
                    x
                    ,
                    y
                  
                  )
                
              
              
                F
                ⁡
                
                  [
                  
                    a
                    ⁡
                    
                      (
                      
                        f
                        ,
                        g
                      
                      )
                    
                  
                  ]
                
              
            
            ]
          
        
      
      ]
    
  




and replacing with zero a value of the image function for which a distance from an optical axis of the projection optical system is larger than the response length.
" num="00011" claimType="independent" transPhrase=" of calculating " claimSize="397" claimNumber="11" claim_preamble="A method">
<claim-text gate:gateId="136">11. A method of calculating a light intensity distribution to be formed on a pupil plane of an illumination optical system in an exposure apparatus which illuminates an original with light emitted from the illumination optical system and exposes a substrate by projecting a pattern of the illuminated original onto the substrate via a projection optical system, the method, which is executable by a computer, comprising the steps of:
<claim-text gate:gateId="137">determining an impulse response function of the projection optical system through a process of performing Fourier transform on a pupil function of the projection optical system;</claim-text>
<claim-text gate:gateId="138">setting a length from the origin to a second zero point of the impulse response function as a response length, extracting a pattern from elements forming a target pattern to be formed on the substrate, and determining a function indicating the extracted pattern as an image function; and</claim-text>
<claim-text gate:gateId="139">obtaining the light intensity distribution to be formed on the pupil plane of the illumination optical system based on the pupil function, the determined impulse response function, and the determined image function,</claim-text>
<claim-text gate:gateId="140">wherein letting r(x,y) be the image function, I(x,y) be an image of the target pattern to be formed on the substrate, a(f,g) be a diffracted light distribution of the target pattern at a point (f,g) on the pupil plane of the projection optical system, F be Fourier transform, and F <sup gate:gateId="141">−1 </sup>be inverse Fourier transform, the step of determining the image function comprises the step of calculating the image function r(x,y) by substituting the image I(x,y) of the target pattern and the diffracted light distribution a(f,g) of the target pattern into a right side of</claim-text>
</claim-text>
<claim-text gate:gateId="142">
<maths gate:gateId="143" id="MATH-US-00006" num="00006">
<math gate:gateId="144" overflow="scroll">
<mrow gate:gateId="145">
  <mrow gate:gateId="146">
    <mi gate:gateId="147">r</mi>
    <mo gate:gateId="148">⁡</mo>
    <mrow gate:gateId="149">
      <mo gate:gateId="150">(</mo>
      <mrow gate:gateId="151">
        <mi gate:gateId="152">x</mi>
        <mo gate:gateId="153">,</mo>
        <mi gate:gateId="154">y</mi>
      </mrow>
      <mo gate:gateId="155">)</mo>
    </mrow>
  </mrow>
  <mo gate:gateId="156">=</mo>
  <mrow gate:gateId="157">
    <mi gate:gateId="158">F</mi>
    <mo gate:gateId="159">⁡</mo>
    <mrow gate:gateId="160">
      <mo gate:gateId="161">[</mo>
      <mrow gate:gateId="162">
        <mfrac gate:gateId="163">
          <mn gate:gateId="164">1</mn>
          <mrow gate:gateId="165">
            <mi gate:gateId="166">a</mi>
            <mo gate:gateId="167">⁡</mo>
            <mrow gate:gateId="168">
              <mo gate:gateId="169">(</mo>
              <mrow gate:gateId="170">
                <mi gate:gateId="171">f</mi>
                <mo gate:gateId="172">,</mo>
                <mi gate:gateId="173">g</mi>
              </mrow>
              <mo gate:gateId="174">)</mo>
            </mrow>
          </mrow>
        </mfrac>
        <mo gate:gateId="175">⁢</mo>
        <mrow gate:gateId="176">
          <msup gate:gateId="177">
            <mi gate:gateId="178">F</mi>
            <mrow gate:gateId="179">
              <mo gate:gateId="180">-</mo>
              <mn gate:gateId="181">1</mn>
            </mrow>
          </msup>
          <mo gate:gateId="182">⁡</mo>
          <mrow gate:gateId="183">
            <mo gate:gateId="184">[</mo>
            <mfrac gate:gateId="185">
              <mrow gate:gateId="186">
                <mi gate:gateId="187">I</mi>
                <mo gate:gateId="188">⁡</mo>
                <mrow gate:gateId="189">
                  <mo gate:gateId="190">(</mo>
                  <mrow gate:gateId="191">
                    <mi gate:gateId="192">x</mi>
                    <mo gate:gateId="193">,</mo>
                    <mi gate:gateId="194">y</mi>
                  </mrow>
                  <mo gate:gateId="195">)</mo>
                </mrow>
              </mrow>
              <mrow gate:gateId="196">
                <mi gate:gateId="197">F</mi>
                <mo gate:gateId="198">⁡</mo>
                <mrow gate:gateId="199">
                  <mo gate:gateId="200">[</mo>
                  <mrow gate:gateId="201">
                    <mi gate:gateId="202">a</mi>
                    <mo gate:gateId="203">⁡</mo>
                    <mrow gate:gateId="204">
                      <mo gate:gateId="205">(</mo>
                      <mrow gate:gateId="206">
                        <mi gate:gateId="207">f</mi>
                        <mo gate:gateId="208">,</mo>
                        <mi gate:gateId="209">g</mi>
                      </mrow>
                      <mo gate:gateId="210">)</mo>
                    </mrow>
                  </mrow>
                  <mo gate:gateId="211">]</mo>
                </mrow>
              </mrow>
            </mfrac>
            <mo gate:gateId="212">]</mo>
          </mrow>
        </mrow>
      </mrow>
      <mo gate:gateId="213">]</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</claim-text>
<claim-text gate:gateId="214">and replacing with zero a value of the image function for which a distance from an optical axis of the projection optical system is larger than the response length.</claim-text>
</claim>
<us-patent-grant gate:gateId="215" id="us-patent-grant" date-publ="20130806" status="PRODUCTION" file="US08502962-20130806.XML" dtd-version="v4.3 2012-12-04" date-produced="20130723" lang="EN" country="US"></us-patent-grant></claims>